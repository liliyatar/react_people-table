(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},23:function(e,t,a){e.exports=a(34)},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),o=a(8),s=a(5),u=(a(15),a(9)),m=a(13),i=a(22),h=a(19),p=function(e){var t=e.person,a=t.id,n=t.name,c=t.sex,l=t.born,o=t.died,s=t.mother,m=t.father,i=t.age,h=t.century,p=e.history,d=e.match,E=e.location,f=Object(u.a)(c).toString(),g=l<1650,b=i>=65;return r.a.createElement("tr",{onClick:function(){p.push({pathname:"/people/".concat(n.split(" ").join("-").toLowerCase()),search:E.search})},className:d.params.selectedUser===n.split(" ").join("-").toLowerCase()?"selected":""},r.a.createElement("td",null,a),r.a.createElement("td",{className:g?"bornBefore1650":null},n),r.a.createElement("td",{className:"m"===f?"person--male":"person--female"},c),r.a.createElement("td",null,l),r.a.createElement("td",null,o),r.a.createElement("td",null,s),r.a.createElement("td",null,m),r.a.createElement("td",{className:b?"ageOver65YearsOld":null},i),r.a.createElement("td",{className:"person--lived-in-".concat(h)},h))},d=function(e){var t=e.history,a=e.location,c=e.match,l=Object(n.useState)([]),o=Object(m.a)(l,2),s=o[0],d=o[1],E=Object(n.useState)("id"),f=Object(m.a)(E,2),g=f[0],b=f[1],y=new URLSearchParams(a.search);Object(n.useEffect)(function(){fetch("https://mate-academy.github.io/react_people-table/api/people.json").then(function(e){return e.json()}).then(function(e){d(e.map(function(e,t){return Object(i.a)({id:t+1},e,{age:e.died-e.born,century:Math.ceil(e.died/100)})}))})},[]);var C=function(e,t){if("name"===e||"sex"===e){if("asc"===t)return function(t,a){return t[e].localeCompare(a[e])};if("desc"===t)return function(t,a){return a[e].localeCompare(t[e])}}else{if("asc"===t)return function(t,a){return t[e]-a[e]};if("desc"===t)return function(t,a){return a[e]-t[e]}}},O=function(e){var a=e.target,n=s,r=a.valueOf().textContent.toLowerCase();y.set("sortBy",r),t.push({search:y.toString()}),r!==g?(n.sort(C(y.get("query"))),b(r),y.set("sortOrder","asc"),t.push({search:y.toString()})):(n.reverse(),b(""),y.set("sortOrder","desc"),t.push({search:y.toString()}))},v=y.get("query")?s.filter(function(e){return e.name.concat(e.mother).concat(e.father).toLowerCase().includes(y.get("query"))}).sort(C(y.get("sortBy"),y.get("sortOrder"))):Object(u.a)(s).sort(C(y.get("sortBy"),y.get("sortOrder")));return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.DebounceInput,{type:"text",placeholder:"Search",debounceTimeout:500,onChange:function(e){return function(e){var a=e.value;y.set("query",a.trim().toLowerCase()),a||y.delete("query"),t.push({search:y.toString()})}(e.target)}}),r.a.createElement("table",{className:"PeopleTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:O},"Id"),r.a.createElement("th",{onClick:O},"Name"),r.a.createElement("th",{onClick:O},"Sex"),r.a.createElement("th",{onClick:O},"Born"),r.a.createElement("th",{onClick:O},"Died"),r.a.createElement("th",null,"Mother"),r.a.createElement("th",null,"Father"),r.a.createElement("th",{onClick:O},"Age"),r.a.createElement("th",{onClick:O},"Century"))),r.a.createElement("tbody",null,v.map(function(e){return r.a.createElement(p,{person:e,history:t,match:c,location:a,key:e.name})}))))},E=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{to:"/people",className:"btn"},"PEOPLE"),r.a.createElement("h1",{className:"home-page"},"Home page"))},f=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.b,{to:"/",exact:!0,activeClassName:"active"}),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",exact:!0,component:E}),r.a.createElement(s.a,{path:"/people/:selectedUser?",component:d})))};l.a.render(r.a.createElement(o.a,null,r.a.createElement(f,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.a8210ba6.chunk.js.map